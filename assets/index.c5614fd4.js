var A=Object.defineProperty,D=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var _=(t,n,l)=>n in t?A(t,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[n]=l,w=(t,n)=>{for(var l in n||(n={}))M.call(n,l)&&_(t,l,n[l]);if(C)for(var l of C(n))R.call(n,l)&&_(t,l,n[l]);return t},E=(t,n)=>D(t,H(n));import{j as G,r as g,R as q,a as T}from"./vendor.ec2483b0.js";const k=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}};k();const e=G.exports.jsx,u=G.exports.jsxs;function B(t){let n=[];for(let o=0;o<t.prop.count;o++)n.push(o);let l=n.map(o=>e("div",{style:{height:Number(t.prop.height),width:"inherit"}},o));return e("div",{className:"parent",style:{height:"inherit",width:Number(t.prop.width)},children:l})}const P=[{column:2,to_be_deleted:1},{column:4,to_be_deleted:2},{column:3,to_be_deleted:5}];var y={data:P};function Y(t){let n=t.input,l=t.index;return u("div",{className:"field is-grouped",children:[u("div",{className:"field",children:[e("label",{className:"label",children:"Width"}),e("div",{className:"control",children:e("input",{name:"width",className:"input",placeholder:"Width",type:"number",value:n.width,onChange:o=>t.handleFormChange(l,o)})})]}),u("div",{className:"field",children:[e("label",{className:"label",children:"Height"}),e("div",{className:"control",children:e("input",{name:"height",className:"input",placeholder:"Height",type:"number",value:n.height,onChange:o=>t.handleFormChange(l,o)})})]}),u("div",{className:"field",children:[e("label",{className:"label",children:"Count"}),e("div",{className:"control",children:e("input",{name:"count",placeholder:"Count",type:"number",value:n.count,onChange:o=>t.handleFormChange(l,o),className:`input ${t.error?"invalidInput":""}`})})]})]})}function F(t){return e("div",{className:"deleteErr",children:t.message})}function K(t){let n=t.gCodes;return e("div",{className:"gCodesContainer",children:n.map((l,o)=>e("code",{children:l},o))})}function X(){const[t,n]=g.exports.useState(""),[l,o]=g.exports.useState(!1),[i,s]=g.exports.useState(""),[m,I]=g.exports.useState(""),[d,N]=g.exports.useState([{width:"",height:"",count:""}]),[S,x]=g.exports.useState([]);function j(r,c){let f=[...d];f[r][c.target.name]=Math.floor(Number(c.target.value)),N(f);const a=d.map((p,b)=>p.height*p.count),h=d.map((p,b)=>p.width),v=(p,b)=>p+b,$=h.reduce(v);a.some(p=>p>Number(i))||$>Number(m)?n("Error"):n("")}function L(){let r={width:"",height:"",count:""};N([...d,r])}function O(){let r=[...d];x([]);const c=a=>parseInt(a.column)<=parseInt(r.length)&&parseInt(a.to_be_deleted)<=parseInt(r[a.column-1].count);y.data.every(c)?(y.data.sort((a,h)=>a.column-h.column),y.data.map(a=>{E(w({},r[a.column-1]),{deleted:a.to_be_deleted});let h=W(a);x(v=>[...v,h]),r[a.column-1].count-=a.to_be_deleted}),N([...r]),o(!1)):o(!0)}const W=r=>{let c=0;for(let h=0;h<r.column-1;h++)c+=d[h].width;c+=d[r.column-1].width/2;let f=i-d[r.column-1].height*d[r.column-1].count+d[r.column-1].height*r.to_be_deleted,a=`G0 X${c}
 G0 Y${f}
 G0 Y0`;return console.log(a),a};return u("div",{className:"container",children:[u("div",{className:"init",children:[e("label",{className:"label",children:"Ground "}),u("div",{className:"field is-grouped",children:[u("div",{className:"field",children:[e("label",{className:"label",children:"Height"}),e("div",{className:"control",children:e("input",{className:"input is-primary is-normal",type:"number",onChange:r=>s(r.target.value),name:"groundH",placeholder:"height",id:"",min:1,value:i,required:!0})})]}),u("div",{className:"field",children:[e("label",{className:"label",children:"Width"}),e("div",{className:"control",children:e("input",{className:"input is-primary is-normal",type:"number",onChange:r=>I(r.target.value),name:"groundW",placeholder:"width",id:"",value:m,min:1,required:!0})})]})]})]}),i&&m?u("div",{className:"boxes",children:[e("form",{children:d.map((r,c)=>e(Y,{input:r,error:t,index:c,handleFormChange:j},c+10))}),e("button",{className:"button is-info",onClick:L,disabled:t,children:"Add more +"})]}):e("div",{}),t&&e(F,{message:"invalid input"}),e("div",{className:"ground",style:{height:Number(i),width:Number(m)},children:d.map((r,c)=>e(B,{prop:r},c))}),l&&e(F,{message:"The input data and the number of boxes don't match"}),e(K,{gCodes:S}),e("button",{style:{marginTop:"2em"},className:"button is-responsive is-danger",onClick:O,children:"DELETE"})]})}q.render(e(T.StrictMode,{children:e(X,{})}),document.getElementById("root"));
