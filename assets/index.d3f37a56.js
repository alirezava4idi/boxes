var L=Object.defineProperty,j=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var F=(t,l,s)=>l in t?L(t,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[l]=s,R=(t,l)=>{for(var s in l||(l={}))$.call(l,s)&&F(t,s,l[s]);if(M)for(var s of M(l))O.call(l,s)&&F(t,s,l[s]);return t},W=(t,l)=>j(t,B(l));import{j as H,r as p,N as q,R as D,a as T,B as P,b as Y,c as A}from"./vendor.e2c70e3a.js";const K=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const g of c.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&r(g)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerpolicy&&(c.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?c.credentials="include":a.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}};K();const e=H.exports.jsx,i=H.exports.jsxs;function X(t){let l=[];for(let r=0;r<t.prop.count;r++)l.push(r);let s=l.map(r=>e("div",{style:{height:Number(t.prop.height),width:"inherit"}},r));return e("div",{className:"parent",style:{height:"inherit",width:Number(t.prop.width)},children:s})}const z=[{column:2,to_be_deleted:1},{column:4,to_be_deleted:2},{column:3,to_be_deleted:5}];var G={data:z};function J(t){let l=t.input,s=t.index;return i("div",{className:"field is-grouped",children:[i("div",{className:"field",children:[e("label",{className:"label",children:"Width"}),e("div",{className:"control",children:e("input",{name:"width",className:"input",placeholder:"Width",type:"number",value:l.width,onChange:r=>t.handleFormChange(s,r)})})]}),i("div",{className:"field",children:[e("label",{className:"label",children:"Height"}),e("div",{className:"control",children:e("input",{name:"height",className:"input",placeholder:"Height",type:"number",value:l.height,onChange:r=>t.handleFormChange(s,r)})})]}),i("div",{className:"field",children:[e("label",{className:"label",children:"Count"}),e("div",{className:"control",children:e("input",{name:"count",placeholder:"Count",type:"number",value:l.count,onChange:r=>t.handleFormChange(s,r),className:`input ${t.error?"invalidInput":""}`})})]})]})}function S(t){return e("div",{className:"deleteErr",children:t.message})}function Q(t){let l=t.gCodes;return e("div",{className:"gCodesContainer",children:l.map((s,r)=>e("code",{children:s},r))})}function U(){const[t,l]=p.exports.useState(""),[s,r]=p.exports.useState(!1),[a,c]=p.exports.useState(""),[g,x]=p.exports.useState(""),[u,v]=p.exports.useState([{width:"",height:"",count:""}]);p.exports.useState(!0);const[w,y]=p.exports.useState([]);function C(n,d){let b=[...u];b[n][d.target.name]=Math.floor(Number(d.target.value)),v(b);const o=u.map((f,E)=>f.height*f.count),N=u.map((f,E)=>f.width),I=(f,E)=>f+E,k=N.reduce(I);o.some(f=>f>Number(a))||k>Number(g)?l("Error"):l("")}function _(){let n={width:"",height:"",count:""};v([...u,n])}function m(){let n=[...u];y([]);const d=o=>parseInt(o.column)<=parseInt(n.length)&&parseInt(o.to_be_deleted)<=parseInt(n[o.column-1].count);G.data.every(d)?(G.data.sort((o,N)=>o.column-N.column),G.data.map(o=>{W(R({},n[o.column-1]),{deleted:o.to_be_deleted});let N=h(o);y(I=>[...I,N]),n[o.column-1].count-=o.to_be_deleted}),v([...n]),r(!1)):r(!0)}const h=n=>{let d=0;for(let N=0;N<n.column-1;N++)d+=u[N].width;d+=u[n.column-1].width/2;let b=a-u[n.column-1].height*u[n.column-1].count+u[n.column-1].height*n.to_be_deleted,o=`G0 X${d}
 G0 Y${b}
 G0 Y0`;return console.log(o),o};return i("div",{className:"container",children:[i("div",{className:"init",children:[e("label",{className:"label",children:"Ground "}),i("div",{className:"field is-grouped",children:[i("div",{className:"field",children:[e("label",{className:"label",children:"Height"}),e("div",{className:"control",children:e("input",{className:"input is-primary is-normal",type:"number",onChange:n=>c(n.target.value),name:"groundH",placeholder:"height",id:"",min:1,value:a,required:!0})})]}),i("div",{className:"field",children:[e("label",{className:"label",children:"Width"}),e("div",{className:"control",children:e("input",{className:"input is-primary is-normal",type:"number",onChange:n=>x(n.target.value),name:"groundW",placeholder:"width",id:"",value:g,min:1,required:!0})})]})]})]}),a&&g?i("div",{className:"boxes",children:[e("form",{children:u.map((n,d)=>e(J,{input:n,error:t,index:d,handleFormChange:C},d+10))}),e("button",{className:"button is-info",onClick:_,disabled:t,children:"Add more +"})]}):e("div",{}),t&&e(S,{message:"invalid input"}),e("div",{className:"ground",style:{height:Number(a),width:Number(g)},children:u.map((n,d)=>e(X,{prop:n},d))}),s&&e(S,{message:"The input data and the number of boxes don't match"}),e(Q,{gCodes:w}),e("button",{style:{marginTop:"2em"},className:"button is-responsive is-danger",onClick:m,children:"DELETE"})]})}function V({data:t,height:l,setConstrainsErrorInChild:s}){let r=t.mass/(t.width*t.mass_in_1cmsq)||0;return r===1/0&&(r=0),r>Number(l)?s(!0):s(!1),e("div",{className:"box-of-dirt",style:{height:r,width:t.width}})}function Z(){const[t,l]=p.exports.useState([0,0]),[s,r]=p.exports.useState(!0),[a,c]=p.exports.useState([]),[g,x]=p.exports.useState(!1);let u=p.exports.createRef(),v=p.exports.createRef();function w(){let m=[Number.parseInt(u.current.value),Number.parseInt(v.current.value)];m[0]>0&&m[1]>0?(l(m),r(!1)):(r(!0),console.log("error"))}function y(m,h){let n=[...a];n[m][h.target.name]=Math.floor(Number(h.target.value)),c(n);let d=n.reduce((b,o)=>b+o.width,0);d>t[1]?(console.log("err constr"),x(!0),r(!0),console.log(s)):(x(!1),r(!1),console.log(d))}function C(){const m=[...a],h={width:"",mass_in_1cmsq:"",mass:""};c([...m,h])}function _(m){x(m),r(m)}return i("div",{className:"container",children:[i("div",{className:"settings",children:[e("label",{children:" Ground : "}),i("div",{className:"field",children:[e("label",{className:"label",children:"Height"}),e("div",{className:"control",children:e("input",{className:"input is-primary is-normal",type:"number",name:"groundH",placeholder:"height",id:"",min:1,ref:u,required:!0})})]}),i("div",{className:"field",children:[e("label",{className:"label",children:"Width"}),e("div",{className:"control",children:e("input",{className:"input is-primary is-normal",type:"number",name:"groundW",placeholder:"Width",id:"",min:1,ref:v,required:!0})})]}),e("div",{className:"makebtn",children:e("button",{onClick:w,children:"Make"})})]}),i("div",{className:"inputs",children:[a.map((m,h)=>i("div",{className:"inputs-area",children:[i("div",{className:"field",children:[e("label",{className:"label",children:"Width"}),e("div",{className:"control",children:e("input",{name:"width",type:"number",className:`input ${g?"errInput":""}`,onChange:n=>y(h,n)})})]}),i("div",{className:"field",children:[i("label",{className:"label",style:{margin:"0.14em"},children:["Mass in 1 cm",e("sup",{children:"2"})]}),e("div",{className:"control",children:e("input",{name:"mass_in_1cmsq",type:"number",className:"input",onChange:n=>y(h,n)})})]}),i("div",{className:"field",children:[e("label",{className:"label",children:"Mass"}),e("div",{className:"control",children:e("input",{name:"mass",type:"number",className:"input",onChange:n=>y(h,n)})})]})]},h)),g&&e(S,{message:"can't fit"}),e("div",{className:"divider"})]}),e("div",{className:"addmorebtn",children:e("button",{className:"button is-primary",onClick:C,disabled:s,children:"Add +"})}),e("div",{className:"playGround",children:e("div",{className:"g",style:{height:t[0],width:t[1]},children:a.map((m,h)=>e(V,{data:m,height:t[0],setConstrainsErrorInChild:_},h))})})]})}function ee(){return e("div",{className:"container",children:i("nav",{className:"navbar",children:[e(q,{to:"/",className:({isActive:t})=>t?"isActive":"",children:"Home"}),e(q,{to:"/mass",className:({isActive:t})=>t?"isActive":"",children:"Mass"})]})})}D.render(e(T.StrictMode,{children:i(P,{children:[e(ee,{}),i(Y,{children:[e(A,{path:"/",element:e(U,{}),style:({isActive:t})=>({color:t?"green":"blue"})}),e(A,{path:"/mass",element:e(Z,{}),style:({isActive:t})=>({color:t?"green":"blue"})})]})]})}),document.getElementById("root"));
