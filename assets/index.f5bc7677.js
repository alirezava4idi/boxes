var W=Object.defineProperty,A=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var v=(t,n,r)=>n in t?W(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,y=(t,n)=>{for(var r in n||(n={}))H.call(n,r)&&v(t,r,n[r]);if(b)for(var r of b(n))M.call(n,r)&&v(t,r,n[r]);return t},x=(t,n)=>A(t,D(n));import{j as _,r as p,R,a as q}from"./vendor.ec2483b0.js";const G=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=r(l);fetch(l.href,s)}};G();const e=_.exports.jsx,d=_.exports.jsxs;function T(t){let n=[];for(let i=0;i<t.prop.count;i++)n.push(i);let r=n.map(i=>e("div",{style:{height:Number(t.prop.height),width:"inherit"}},i));return e("div",{className:"parent",style:{height:"inherit",width:Number(t.prop.width)},children:r})}const $=[{column:1,to_be_deleted:2},{column:2,to_be_deleted:1}];var C={data:$};function k(t){let n=t.input,r=t.index;return d("div",{className:"field is-grouped",children:[d("div",{className:"field",children:[e("label",{className:"label",children:"Width"}),e("div",{className:"control",children:e("input",{name:"width",className:"input",placeholder:"Width",type:"number",value:n.width,onChange:i=>t.handleFormChange(r,i)})})]}),d("div",{className:"field",children:[e("label",{className:"label",children:"Height"}),e("div",{className:"control",children:e("input",{name:"height",className:"input",placeholder:"Height",type:"number",value:n.height,onChange:i=>t.handleFormChange(r,i)})})]}),d("div",{className:"field",children:[e("label",{className:"label",children:"Count"}),e("div",{className:"control",children:e("input",{name:"count",placeholder:"Count",type:"number",value:n.count,onChange:i=>t.handleFormChange(r,i),className:`input ${t.error?"invalidInput":""}`})})]})]})}function w(t){return e("div",{className:"deleteErr",children:t.message})}function B(){const[t,n]=p.exports.useState(""),[r,i]=p.exports.useState(!1),[l,s]=p.exports.useState(""),[u,E]=p.exports.useState(""),[m,g]=p.exports.useState([{width:"",height:"",count:""}]);function F(a,c){let f=[...m];f[a][c.target.name]=Math.floor(Number(c.target.value)),g(f);const o=m.map((h,N)=>h.height*h.count),j=m.map((h,N)=>h.width),L=(h,N)=>h+N,O=j.reduce(L);o.some(h=>h>Number(l))||O>Number(u)?n("Error"):n("")}function I(){let a={width:"",height:"",count:""};g([...m,a])}function S(){let a=[...m];const c=o=>parseInt(o.column)<=parseInt(a.length)&&parseInt(o.to_be_deleted)<=parseInt(a[o.column-1].count);C.data.every(c)?(C.data.map(o=>{x(y({},a[o.column-1]),{deleted:o.to_be_deleted}),a[o.column-1].count-=o.to_be_deleted}),g([...a]),i(!1)):i(!0)}return d("div",{className:"container",children:[d("div",{className:"init",children:[e("label",{className:"label",children:"Ground "}),d("div",{className:"field is-grouped",children:[d("div",{className:"field",children:[e("label",{className:"label",children:"Height"}),e("div",{className:"control",children:e("input",{className:"input is-primary is-normal",type:"number",onChange:a=>s(a.target.value),name:"groundH",placeholder:"height",id:"",min:1,value:l,required:!0})})]}),d("div",{className:"field",children:[e("label",{className:"label",children:"Width"}),e("div",{className:"control",children:e("input",{className:"input is-primary is-normal",type:"number",onChange:a=>E(a.target.value),name:"groundW",placeholder:"width",id:"",value:u,min:1,required:!0})})]})]})]}),l&&u?d("div",{className:"boxes",children:[e("form",{children:m.map((a,c)=>e(k,{input:a,error:t,index:c,handleFormChange:F},c+10))}),e("button",{className:"button is-info",onClick:I,disabled:t,children:"Add more +"})]}):e("div",{}),t&&e(w,{message:"invalid input"}),e("div",{className:"ground",style:{height:Number(l),width:Number(u)},children:m.map((a,c)=>e(T,{prop:a},c))}),r&&e(w,{message:"The input data and the number of boxes don't match"}),e("button",{style:{marginTop:"2em"},className:"button is-responsive is-danger",onClick:S,children:"DELETE"})]})}R.render(e(q.StrictMode,{children:e(B,{})}),document.getElementById("root"));
